\begin{tikzpicture}[
    node distance=3cm,
    process/.style = {
        draw,
        rectangle
    },
    functionality/.style = {
        draw,
        circle,
        minimum width = 5mm
    },
    server/.style = {
        draw,
        rectangle
    }
]

\node[functionality, color=theme1, fill=theme1!10] (f1) {};
\node[functionality, right=3mm of f1, color=theme2, fill=theme2!10] (f2) {};
\node[functionality, below=3mm of f1, color=theme3, fill=theme3!10] (f3) {};
\node[functionality, right=3mm of f3, color=theme4, fill=theme4!10] (f4) {};
\node[process, fit=(f1)(f2)(f3)(f4)] (proc1) {};
\node[above=0 of proc1] (l1) {Process};
\node[server, fit=(proc1)(l1)] (srv1) {};
\draw[fill=black!5] (srv1.north west) -- ++(0.25,0.25) -- ($(srv1.north east)+(0.25,0.25)$) -- (srv1.north east);
\draw[fill=black!10] (srv1.north east) -- ++(0.25,0.25) -- ($(srv1.south east)+(0.25,0.25)$) -- (srv1.south east);
\node[below=0 of srv1] (l2) {Server A};


\node[functionality, right=2cm of f2, color=theme1, fill=theme1!10] (f5) {};
\node[functionality, right=3mm of f5, color=theme2, fill=theme2!10] (f6) {};
\node[functionality, below=3mm of f5, color=theme3, fill=theme3!10] (f7) {};
\node[functionality, right=3mm of f7, color=theme4, fill=theme4!10] (f8) {};
\node[process, fit=(f5)(f6)(f7)(f8)] (proc2) {};
\node[above=0 of proc2] (l3) {Process};
\node[server, fit=(proc2)(l3)] (srv2) {};
\draw[fill=black!5] (srv2.north west) -- ++(0.25,0.25) -- ($(srv2.north east)+(0.25,0.25)$) -- (srv2.north east);
\draw[fill=black!10] (srv2.north east) -- ++(0.25,0.25) -- ($(srv2.south east)+(0.25,0.25)$) -- (srv2.south east);
\node[below=0 of srv2] (l4) {Server B};

\end{tikzpicture}